a simple toon mode for emacs

* major mode for "toon"

#+BEGIN_QUOTE
Token-Oriented Object Notation is a compact, human-readable encoding of the
JSON data model that minimizes tokens and makes structure easy for models to
follow.  It's intended for LLM input as a drop-in, lossless representation of
your existing JSON.
#+END_QUOTE

toon: https://toonformat.dev/

toon spec is here:
https://raw.githubusercontent.com/toon-format/spec/refs/heads/main/SPEC.md

elisp reference manual is here:
https://www.gnu.org/software/emacs/manual/elisp.html

* requirements

- Emacs 27+ (for reliable ~font-lock-ensure~)
- ~toon~ CLI in your PATH (only for TOON -> JSON conversion)


* usage

** straight.el

#+BEGIN_SRC elisp
(use-package toon-mode
  :defer t
  :straight (toon-mode :type git :host github :repo "m1lan/toon-mode"))
#+END_SRC

** manual

- load the mode: M-x load-file RET toon-mode.el
- open a .toon file (auto-mode)
- indent with TAB
- convert to json: M-x toon-convert-buffer-to-json (C-c C-j)
- pretty-print: M-x toon-format-buffer (C-c C-f)
- show path at point: M-x toon-mode-show-path (C-c C-p)
- copy path at point: M-x toon-mode-kill-path (C-c C-y)
- toggle boolean: M-x toon-toggle-boolean (C-c C-t)
- replace value with null: M-x toon-nullify-value (C-c C-k)
- increment number: M-x toon-increment-number-at-point (C-c C-i)
- decrement number: M-x toon-decrement-number-at-point (C-c C-d)

* current features

- syntax highlighting for keys, constants, and numbers
- indentation based on block structure
- convert TOON buffer to JSON via the ~toon~ CLI
- pretty-print buffers (pure Emacs Lisp; no external dependencies)
- path helpers and value toggles (boolean/null/number)
